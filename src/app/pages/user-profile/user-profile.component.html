<div class="profile-container">
    <div class="heading">My Profile</div>
    <div class="userprofile-section" *ngIf="userDetails">
        <div class="d-flex w100 mb-2">
            <div class="user-image">
                <div>
                    <div class="user-image-avatar" *ngIf="!userDetails.img">
                        <span *ngIf="!isImageUploading">{{getAvatarText(userDetails?.username)}}</span>
                        <span *ngIf="isImageUploading"><i class="fas fa-spinner fa-spin" aria-hidden="true"></i></span>
                    </div>
                    <div *ngIf="userDetails.img">
                        <img [src]="userDetails.img">
                    </div>
                </div>
                <div class="edit-icon">
                    <input type="file" (change)="onFileChanged($event)" style="display: none" #fileInput>
                    <mat-icon (click)="fileInput.click()">edit</mat-icon>
                </div>
            </div>
            <!-- <div class="the-form" *ngIf="isProfileFormOpen">

                <form [formGroup]="profileForm" (ngSubmit)="onSubmit(profileForm.value)" class="form">
                    <mat-form-field class="form-element">
                        <input matInput placeholder="Full Name" formControlName="username">
                        <mat-error
                            *ngIf="!profileForm.controls['username'].valid && profileForm.controls['username'].touched">
                            {{ getErrorusername(profileForm) }}
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="form-element">
                        <textarea matInput placeholder="Bio" formControlName="bio"></textarea>
                    </mat-form-field>
                    <div class="form-element">
                        <button mat-raised-button color="primary" type="submit" class="button"
                            [disabled]="!profileForm.valid || isImageUploading">Edit<i class="fas fa-spinner fa-spin"
                                *ngIf="isImageUploading" aria-hidden="true"></i></button>
                    </div>
                </form>
            </div> -->
        </div>
        <div class="user-details" *ngIf="!isProfileFormOpen">
            <h3>{{userDetails?.username}}</h3>
            <p class="text-truncate" [innerHTML]="userDetails?.settings?.Account?.Bio"></p>
        </div>
        <!-- <div>
            <div class="edit-all-icon" (click)="isProfileFormOpen = !isProfileFormOpen">
                <mat-icon *ngIf="!isProfileFormOpen">edit</mat-icon>
                <mat-icon *ngIf="isProfileFormOpen">close</mat-icon>
            </div>
        </div> -->
    </div>
    <div class="userprofile-section" *ngIf="unclaimedText">
        <div class="d-flex justify-content-between align-items-center w100 row" style="padding:15px;">
            <h3>{{unclaimedText}}</h3>
            <button mat-raised-button color="primary" (click)="claimRewards()">Redeem Rewards(Transfer To
                Balance)</button>
        </div>
    </div>
    <div class="userpodcasts-section">
        <div class="heading">Your Podcasts</div>
        <div *ngFor="let podcast of podcasts; let podcastIndex = index;">
            <div class="podcast-card">
                <img [src]="podcast.image">
                <div class="flex flex-column">
                  <div class="podcast-name">
                    {{podcast.name}}
                  </div>
                  <div>
                      <span class="vote-count"> 
                        <span>
                            Go to Podcast
                        </span>  

                      </span>
                  </div>
                </div>
            </div>
        </div>
    </div>
</div>