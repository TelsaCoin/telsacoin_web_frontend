<div class="d-flex flex-column justify-content-between" style="height:100%">
    <div>
        <div>
            <h3 class="the-text">Assign Community</h3>
        </div>
        <div dropdown class="relative">
            <mat-form-field dropdownToggle class="w100">
                <mat-label>Search for community</mat-label>
                <input matInput type="text" [formControl]='searchInput'>
                <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="clearInput()">
                    <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
            <div class="dropdown-menu option-contain w100 show" *dropdownMenu>
                <div class="dropdown w100" *ngIf="isLoading">
                    <div class="dropdown-item">
                        <i class="fas fa-spinner fa-spin" *ngIf="isbuttonLoaderOn" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="dropdown w100">
                    <div *ngFor="let result of searchResults;" class="dropdown-item pointer"
                        (click)="addToSelectedCommunity(result)">
                        <span>{{result.name}}</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="d-flex align-items-center flex-wrap">
            <span class="selected-pills" *ngFor="let community of currentCommunities;">
                {{community.name}}
                <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="removeCommunity(community)">
                    <mat-icon>close</mat-icon>
                </button>
            </span>
        </div>
    </div>
    <div>
        <h6 class="no-account" (click)="createCommunity()">Couldn't find a relevant Community ? Create one here</h6>
    </div>
    <div class="w100 d-flex align-items-center">
        <button mat-raised-button color="secondary" class="button" (click)="closeDialogRef()"
            style="width: 50%; margin-right: 10px;">Cancel</button>
        <button mat-raised-button color="primary" type="submit" class="button" (click)="closeDialogRef()"
            [disabled]="isbuttonLoaderOn" style="width: 50%; margin-left: 10px;">Done<i class="fas fa-spinner fa-spin"
                *ngIf="isbuttonLoaderOn" aria-hidden="true"></i></button>
    </div>
</div>